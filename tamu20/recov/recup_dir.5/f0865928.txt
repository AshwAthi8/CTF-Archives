; WBEMOC.INF
;
; This is the Setup information file to install WBEM
; as an Optional Component.
;
; Copyright (c) Microsoft Corporation.  All rights reserved.
;
;
; Note:
; prodfilt switches are platform first, then product as in "@3:@w:"
;

[version]
signature="$Windows NT$"
LayoutFile=layout.inf
DriverVer=10/01/2002,5.2.3790.1830

[Optional Components]
WBEM

[WBEM]
OptionDesc     = %WBEM_DESC%
Tip            = %WBEM_TIP%
CopyFiles      = WBEM.System32CopyFiles, WBEM.CopyFiles, WBEM.CopyMOFs, WBEM.CopyXML
RegisterDlls   = WBEM.RegSvr
Modes          = 0,1,2,3
SizeApproximation=32514048
;AddReg        = WBEM.AddReg
;DelReg        = WBEM.DelReg

[DestinationDirs]
WBEM.System32CopyFiles = 11
WBEM.CopyFiles         = 11,WBEM
WBEM.CopyMOFs          = 11,WBEM
WBEM.CopyXML           = 11,WBEM\XML

[WBEM.System32CopyFiles]
cmprops.dll
licwmi.dll
mmfutil.dll
servdeps.dll
wmimgmt.msc
; ncobjapi.dll -- this must remain in layout.inx

[WBEM.System32CopyFiles.Security]
"D:P(A;;GRGX;;;BU)(A;;GA;;;BA)(A;;GA;;;SY)(A;;GRGX;;;WD)"

[WBEM.CopyFiles]
cimwin32.dll
csv.xsl
dsprov.dll
esscli.dll
fastprox.dll
framedyn.dll
hform.xsl
htable.xsl
krnlprov.dll
mof.xsl
mofcomp.exe
mofd.dll
ncprov.dll
ntevt.dll
policman.dll
provthrd.dll
rawxml.xsl
repdrvfs.dll
scrcons.exe
smtpcons.dll
stdprov.dll
texttable.xsl,texttbl.xsl
textvaluelist.xsl,textvalu.xsl
unsecapp.exe
viewprov.dll
wbemcntl.dll
;@@:@@:wbemcomn.dll -- this is now copied by layout.inx as wbemupgd has a dependency on it
wbemcons.dll
wbemcore.dll
wbemdisp.dll
wbemdisp.tlb
wbemess.dll
wbemprox.dll
wbemsvc.dll
wbemtest.exe
;@@:@@:wbemupgd.dll -- this is now copied by layout.inx as it now needs to be present earlier in setup process
winmgmt.exe
winmgmtr.dll
wmiadap.exe
wmiapres.dll
wmiaprpl.dll
wmiapsrv.exe
wmic.exe
wmicookr.dll
wmidcprv.dll
wmipcima.dll
wmipdskq.dll
wmipicmp.dll
wmipiprt.dll
wmipjobj.dll
wmiprov.dll
wmiprvsd.dll
wmiprvse.exe
wmipsess.dll
wmisvc.dll
wmitimep.dll
wmiutils.dll
xml.xsl
xsl-mappings.xml,xslmap.xml

[WBEM.CopyFiles.Security]
"D:P(A;;GRGX;;;BU)(A;;GA;;;BA)(A;;GA;;;SY)(A;;GRGX;;;WD)"

[WBEM.CopyMOFs]
cimwin32.mfl
cimwin32.mof
cli.mof
cliegaliases.mfl,cliegali.mfl
cliegaliases.mof,cliegali.mof
dsprov.mfl
dsprov.mof
krnlprov.mfl
krnlprov.mof
licwmi.mfl
licwmi.mof
ncprov.mfl
ncprov.mof
ntevt.mfl
ntevt.mof
policman.mfl
policman.mof
regevent.mfl
regevent.mof
scm.mof
scrcons.mfl
scrcons.mof
secrcw32.mfl
secrcw32.mof
smtpcons.mfl
smtpcons.mof
subscrpt.mof
system.mof
wbemcons.mfl
wbemcons.mof
wmi.mfl
wmi.mof
wmipcima.mfl
wmipcima.mof
wmipdskq.mfl
wmipdskq.mof
wmipicmp.mfl
wmipicmp.mof
wmipiprt.mfl
wmipiprt.mof
wmipjobj.mfl
wmipjobj.mof
wmipsess.mfl
wmipsess.mof
wmitimep.mfl
wmitimep.mof

[WBEM.CopyMOFs.Security]
"D:P(A;;GRGX;;;BU)(A;;GA;;;BA)(A;;GA;;;SY)(A;;GRGX;;;WD)"

[WBEM.CopyXML]
cim20.dtd
wmi20.dtd
wmi2xml.dll

[WBEM.CopyXML.Security]
"D:P(A;;GRGX;;;BU)(A;;GA;;;BA)(A;;GA;;;SY)(A;;GRGX;;;WD)"

[WBEM.RegSvr]
; WMI Core DLLs
11,wbem,esscli.dll,1
11,wbem,fastprox.dll,1
11,wbem,mofd.dll,1
11,wbem,repdrvfs.dll,1
11,wbem,unsecapp.exe,1
11,wbem,wbemcore.dll,1
11,wbem,wbemess.dll,1
11,wbem,wbemsvc.dll,1
11,wbem,wmiprvsd.dll,1
11,wbem,wmiprvse.exe,1
11,wbem,wmisvc.dll,1
11,wbem,wmiutils.dll,1
11,wbem,wbemprox.dll,1	; this needs to be the last core dll registered
; WMI Providers/Adapters
11,wbem,cimwin32.dll,1
11,,cmprops.dll,1
11,wbem,dsprov.dll,1
11,wbem,krnlprov.dll,1
11,,licwmi.dll,1
11,,mmfutil.dll,1
11,wbem,ncprov.dll,1
11,wbem,ntevt.dll,1
11,wbem,policman.dll,1
11,wbem,scrcons.exe,1
11,,servdeps.dll,1
11,wbem,smtpcons.dll,1
11,wbem,stdprov.dll,1
11,wbem,viewprov.dll,1
11,wbem,wbemcntl.dll,1
11,wbem,wbemcons.dll,1
11,wbem,wbemdisp.dll,1
11,wbem\xml,wmi2xml.dll,1
11,wbem,wmiaprpl.dll,1
11,wbem,wmiapsrv.exe,1
11,wbem,wmicookr.dll,1
11,wbem,wmidcprv.dll,1
11,wbem,wmipcima.dll,1
11,wbem,wmipdskq.dll,1
11,wbem,wmipicmp.dll,1
11,wbem,wmipiprt.dll,1
11,wbem,wmipjobj.dll,1
11,wbem,wmiprov.dll,1
11,wbem,wmipsess.dll,1
11,wbem,wmitimep.dll,1
11,wbem,evntrprv.dll,1
; WMI Upgrade handler
11,wbem,wbemupgd.dll,1,2700

[WBEM.AddReg]
; all registry additions are being handled within hivecls.inx, hivesft.inx, and hivesys.inx

[WBEM.DelReg]
; all registry deletions are being handled within hivecls.inx, hivesft.inx, and hivesys.inx

[WBEM.SYSTEMMOFS]
; these MOF files will be loaded in this order
cimwin32.mof
cimwin32.mfl
system.mof
wmipcima.mof
wmipcima.mfl
regevent.mof
regevent.mfl
ntevt.mof
ntevt.mfl
secrcw32.mof
secrcw32.mfl
dsprov.mof
dsprov.mfl
policman.mof
policman.mfl
subscrpt.mof
evntrprv.mof ; non WinMgmt mof, but needed before WMI.MOF
wmi.mof
wmi.mfl
scm.mof
wmitimep.mof
wmitimep.mfl
wmipdskq.mof
wmipdskq.mfl
wmipicmp.mof
wmipicmp.mfl
wmipiprt.mof
wmipiprt.mfl
wmipjobj.mof
wmipjobj.mfl
wmipsess.mof
wmipsess.mfl
krnlprov.mof
krnlprov.mfl
cli.mof
;
; Add non-WBEM MOF and MFL files below this line
;
tscfgwmi.mof
tscfgwmi.mfl
licwmi.mof
licwmi.mfl
hnetcfg.mof
sr.mof
CmdEvTgProv.mof
whqlprov.mof	; wmi provider for whql to get driver signing info
ieinfo5.mof
vds.mof
vds.mfl
vss.mof
vss.mfl


[Strings]
WBEM_DESC	= "WMI"
WBEM_TIP	= "Windows Management Instrumentation"




[wbem]
CopyFiles=wWBEM.System32CopyFiles,wWBEM.CopyFiles,wWBEM.CopyMOFs,wWBEM.CopyXML
RegisterDlls=wWBEM.RegSvr

[wWBEM.RegSvr]
16425,wbem,esscli.dll,1
16425,wbem,fastprox.dll,1
16425,wbem,mofd.dll,1
16425,wbem,wbemsvc.dll,1
16425,wbem,wmiprvse.exe,1
16425,wbem,wmiutils.dll,1
16425,wbem,wbemprox.dll,1
16425,,mmfutil.dll,1
16425,,servdeps.dll,1
16425,wbem,stdprov.dll,1
16425,wbem,viewprov.dll,1
16425,wbem,wbemcntl.dll,1
16425,wbem,wbemdisp.dll,1
16425,"wbem\xml",wmi2xml.dll,1
16425,wbem,wmicookr.dll,1
16425,wbem,wmidcprv.dll,1

[wWBEM.System32CopyFiles]
mmfutil.dll,wmmfutil.dll
servdeps.dll,wservdeps.dll

[wWBEM.CopyXML]
cim20.dtd,wcim20.dtd
wmi20.dtd,wwmi20.dtd
wmi2xml.dll,wwmi2xml.dll

[wWBEM.CopyMOFs]
cli.mof,wcli.mof
cliegaliases.mfl,wcliegali.mfl
cliegaliases.mof,wcliegali.mof
licwmi.mfl,wlicwmi.mfl
licwmi.mof,wlicwmi.mof

[wWBEM.CopyFiles]
csv.xsl,wcsv.xsl
esscli.dll,wesscli.dll
fastprox.dll,wfastprox.dll
framedyn.dll,wframedyn.dll
hform.xsl,whform.xsl
htable.xsl,whtable.xsl
mof.xsl,wmof.xsl
mofcomp.exe,wmofcomp.exe
mofd.dll,wmofd.dll
provthrd.dll,wprovthrd.dll
rawxml.xsl,wrawxml.xsl
stdprov.dll,wstdprov.dll
texttable.xsl,wtexttbl.xsl
textvaluelist.xsl,wtextvalu.xsl
viewprov.dll,wviewprov.dll
wbemcntl.dll,wwbemcntl.dll
wbemdisp.dll,wwbemdisp.dll
wbemdisp.tlb,wwbemdisp.tlb
wbemprox.dll,wwbemprox.dll
wbemsvc.dll,wwbemsvc.dll
winmgmt.exe,wwinmgmt.exe
wmiadap.exe,wwmiadap.exe
wmiaprpl.dll,wwmiaprpl.dll
wmic.exe,wwmic.exe
wmicookr.dll,wwmicookr.dll
wmidcprv.dll,wwmidcprv.dll
wmiprvse.exe,wwmiprvse.exe
wmiutils.dll,wwmiutils.dll
xml.xsl,wxml.xsl
xsl-mappings.xml,wxslmap.xml

[DestinationDirs]
wWBEM.System32CopyFiles=16425
wWBEM.CopyXML=16425,WBEM\XML
wWBEM.CopyMOFs=16425,WBEM
wWBEM.CopyFiles=16425,WBEM
